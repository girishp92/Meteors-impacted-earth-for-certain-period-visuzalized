<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Meteorological Data of Meteors Impacted On Earth</title>
  <style>
.spinner {
  width: 48px;
  height: 48px;
  border: 6px solid #b3e0ff;
  border-top: 6px solid #222;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
  </style>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3js.org/topojson.v0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.6.3/d3-tip.min.js"></script>
  <link rel="stylesheet" type="text/css" href="Designs.css"/>
</head>
<body>
<aside id="aside">May 10th 2016</aside>
<p class ="head">Meteorological Data of Meteors Impacted on Earth</p>
<h2>Table of Contents</h2>
<h3>1. World Map</h3>
<p id="content">This is the world map where we are showing the places where meteors were impacted by projecting the points on the world map. 
The world map is working fully with few interactions such as zoom and paning, mouse-hover or tooltip information. There are points displayed 
as per the meteorite sum of mass.I am having cross origin error, so i am using CORS extension on Chrome website to access the world map data.</p>
<p id="content">
Interactions:
  1. zoom and pan.
  2. tooltip.
  3.Highlighting.</p>
<div id="map"></div>
<h3>2. Horizontal bar graphs</h3>
<p id="content">This is the second visualization i have made for displaying the meteorite mass and type.
 Upon that i have used tooltip interaction and highlighting for displaying more information.</p>
<div id="bargraph1">
<h4 id="content">How many meteorites by Mass:</h4>
</div>
<div id="loader" style="position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.8);z-index:9999;">
  <div style="text-align:center;">
    <div class="spinner" style="margin-bottom:20px;"></div>
    <div style="font-size:2em;color:#222;">Loading visualizations...</div>
  </div>
</div>
<script src="js/map.js"></script>
<script src="js/bargraph.js"></script>
<script src="js/stackedgraph.js"></script>
<script>
queue()
  .defer(d3.json, "data/world.geojson")
  .defer(d3.json, "data/meteor.json")
  .await(function(error, world, mapdata) {
    if(error) throw error;
    renderMap(world, mapdata);
    var countrange = d3.nest()
      .key(function(d) { return d.FIELD2; })
      .rollup(function(c) { return c.length; })
      .entries(mapdata);
    var countrange1 = countrange.slice(1, countrange.length);
    renderBarGraph(countrange1);
    renderStackedGraph(mapdata);
    document.getElementById('loader').style.display = 'none';
  });
</script>
</body>
</html>